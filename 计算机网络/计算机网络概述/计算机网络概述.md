# 计算机网络概述

## 什么是网络

### 主机的网络

#### 主机-终端

- 主机: 处理中心
- 终端: 远程的输入/输出设备(Terminal/cmd)

- 原因:主机昂贵

![image-20220310101440938](image-20220310101440938.png)

#### 主机-主机

- 以主机为中心的网络互连

  ![image-20220310102039808](image-20220310102039808.png)

### 局域网络

- 产生原因

  微型计算机的迅速发展,近距离的微信计算机间需要相互通信

- 定义(Local Area Network, LAN)

  某一区域内由多台计算机互联成的计算机组





### 网络的网络

- 产生原因: 解决不同计算机组(局域网)互联的问题,采用TCP/IP协议."因特网"

- 网络: 把计算机相互连接
- 互联网络: 把网络连接在一起

![image-20220310102826820](image-20220310102826820.png)

### Internet的发展

#### 第一阶段

- IP和传输控制协议TCP出现,来自开放式网络框架,用于局域网间的相互通信

- 异构的网络: 指采用不同协议的广域网和局域网

- Internet 与 internet 区别

  ![image-20220310103445313](image-20220310103445313.png)

#### 第二阶段

​	在民用网络方面,NSFnet(NSF: 美国国家科学基金组织),替代了ARPAnet成为Internet的主干网

​	三级结构

![image-20220310103829442](image-20220310103829442.png)

- 主干网: NSFnet
- 地区网:亚太地区/北美地区/欧洲地区

#### 第三阶段

- 出现原因: Internet完全转向民用, 出现了互联网服务提供者ISP(Internet Service Provide)r,NSFnet 正式宣布停止运作,

- ISP提供所需ip地址的使用权,通过ip接入互联网

  ![image-20220310104601014](image-20220310104601014.png)

### 我国网络现状

![image-20220310104800824](image-20220310104800824.png)

### 计算机网络定义

![image-20220310141320406](image-20220310141320406.png)

### 计算机网络功能

![image-20220310141358550](image-20220310141358550.png)

## 网络的分类

### 局域网和广域网

局域网: 

- 结构上:拥有者只有一个 (同构)
- 拥有者: 在ISP服务商(中国电信)上登记的用户.
- 传输上:可以广播

广域网

- 结构上: 广域网由很多网络构成, 多个拥有者(一般两个以上路由器相连),同一单位内部地两个网络用路由器相连
- 传输上: 不能广播

- 不能简单以距离来区分：
  - 局域网：采用局域网技术的网络；
  - 广域网：采用广域网技术的网络；
  - 邻居间通过不同ISP连接网络后通信，距离很近，但是是广域网
  - 若邻居间直接通过wifi或网线相连，局域网。

### 网络互连

![image-20220310142102864](image-20220310142102864.png)

## 互联网的组成

### 边缘部分

用户直接使用的,用来进行通信 (传送数据, 音频或视频) 和 资源共享,由所有连接在互联网上的主机组成(路由器?局域网?)

### 核心部分

由大量网络和路由器(连接这些网络)组成,核心部分为边缘部分提供服务的 ( 提供连通性 和 交换)

#### 交换的概念

- "交换"(switching)就是转接: 把**一条电话线转接到另一条电话线**,使他们相互连通
- 交换：在多结点通信网络中，为有效利用通信设备和线路，
  动态地设定通信双方间的线路,，动态地接通或断开通信线路，称为“交换”。从通信资源的分配角度来看,“交换”就是按照某种方式动态地分配传输线路的源。

### 三大交换

#### 电路交换

##### 概念理解

 每一部电话都直接连接到交换机上, 而交换机使用交换方式就是电路交换(circuit switching)

##### 电路交换的特点

- 建立临时独占**物理通路**
  - 物理通路由通信双方之间的**交换设备和链路**逐段连接而成.
- 建立物理通路时间较长, **数据传送延迟较短**

##### 电路交换的三个阶段

建立电路 (连接) : 建立一条专用的物理通路, 以保证双方通话时所需的通信资源在通信时不会被其他用户占用;

- 传输数据（通信）主叫和被叫双方就能互相通电话；
- 拆除电路 (释放连接):释放刚才使用的这条专用的物理
  通路(释放刚才占用的所有通信资源)

##### 电路交换举例

![image-20220310111918786](image-20220310111918786.png)

##### 电路交换优缺点

![image-20220310111942321](image-20220310111942321.png)

#### 分组交换

##### 概念理解

![image-20220310112136154](image-20220310112136154.png)

##### 发组发送

- 看为什么分组
- 看怎么分组
- 一个原始报文都是发给一个对象的吗,如果不是,
- 发送给不同对象的信息之间在原始报文中如何处理
- 发送给同一对象的分组之间顺序的正确性

![image-20220310112210985](image-20220310112210985.png)

##### 分组首部

存储内容:(目的地址和源地址)等控制信息,分组所占报文位置

![image-20220310112447926](image-20220310112447926.png)

##### 分组接收(分组交换)

![image-20220310112538497](image-20220310112538497.png)

##### 网络组成

由路由器(点),网络(线),组成的核心网络,一个路由器代表一个局域网.

![image-20220310113301044](image-20220310113301044.png)

##### 路由器

- 简介

  ![image-20220310113748042](image-20220310113748042.png)

- 功能

  ![image-20220310113808896](image-20220310113808896.png)

##### 路由器分组转发过程

![image-20220310114036105](image-20220310114036105.png)

##### 分组交换优缺点

**(看不懂, wireshark实践理解)**

![image-20220310114100166](image-20220310114100166.png)

#### 报文交换

![image-20220310114250704](image-20220310114250704.png)

### 三种交换比较

- 数据传送方式图解

  ![image-20220310114403497](image-20220310114403497.png)

- 总结

  ![image-20220310115420399](image-20220310115420399.png)

## 互联网的通信

### 端到端的概念

![image-20220310105530167](image-20220310105530167.png)

### 两种通信方式

- C/S
  - Client/Server
  - ![image-20220310105703506](image-20220310105703506.png)
- P2P
  - Peer-to-Peer
  - ![image-20220310105802471](image-20220310105802471.png)



## 网络指标(了解即可)

### 网络性能指标

#### 信息的度量

- 信息论:1948 比特:回答一个是/否(1/0问题需要1比特,比特成为信息的基本单位
- 比特(bit)也是计算机中数据量的单位(0/1).

#### 网络速率(管道一定时间可以传输的数据量)

![image-20220310142806884](image-20220310142806884.png)

#### 网络带宽(管道有多宽,不理解)

- 原义

  ![image-20220310143110743](image-20220310143110743.png)

- 引申义(计算机网络)

![image-20220310142924644](image-20220310142924644.png)

- 直观理解(不理解)

  ![image-20220310143336188](image-20220310143336188.png)

#### 网络吞吐量

![image-20220310143503895](image-20220310143503895.png)

#### 网络时延

- 概念: 时延(delay)是指数据(一个报文or分组,甚至比特)从网络(or链路)的一端传送到另一端所需时间.(ping)
- 发送时延: 发送数据时,数据帧从结点到传输媒体所需时间,也就是从发送数据帧的第一个比特算起,到该帧的最后一个比特发送完毕所需时间**(遍历数据时间)**
  - 发送速率:数据在主机(发送器)上遍历一遍所需时间

![image-20220310144113584](image-20220310144113584.png)

- 传播时延:电磁波在信道上需要传播一定的距离而花费的时间.
  - 传播速率: 信号在信道(铜缆)上跑的速度(约为光速的60%~80%),速度不变

![image-20220310144642688](image-20220310144642688.png)

- 处理时延

  主机或路由器在收到分组时, 为了处理分组 (分析首部.提取数据,差错检验)所花费的时间

- 排队时延

  - 分组在路由器输入输出队列中排队等待处理所经历的时间

  - 排队时延的长短往往取决于网络当时的**通信量**.

    ![image-20220310145020813](image-20220310145020813.png)

- 总时延

  - 总时延=发送时延+传播时延+处理时延+排队时延

    ![image-20220310145318658](image-20220310145318658.png)

  - 总时延组成中,那个最拖后腿,要看情况分析.(服务器远近...)

- 几种产生时延的地方

  ![image-20220310145354769](image-20220310145354769.png)

- 举例

  ![image-20220310145543954](image-20220310145543954.png)

- 时延带宽积

  - 错误观点: 传播时延不变(同一主机指向同一台服务器),发送时延越长,时延带宽积越大
  - 作用: 描述 主机跟服务器差多远

  ![image-20220310145636152](image-20220310145636152.png)

- 往返时延RTT

  ![image-20220310145651957](image-20220310145651957.png)

#### 利用率

- 所以ISP(网络服务提供商)可以卖各种发送速率的宽带

![image-20220310150106138](image-20220310150106138.png)

#### 时延与利用率计算

![image-20220310150357086](image-20220310150357086.png)

### 网络非性能指标

![image-20220310150519031](image-20220310150519031.png)

## 网络体系结构(重点掌握)

![image-20220310164031444](image-20220310164031444.png)

### 结构设计理念

#### 分层的概念

##### 图解

![image-20220310162423856](image-20220310162423856.png)

##### 分层原因

![image-20220310162504305](image-20220310162504305.png)

##### 如何分层

![image-20220310162512136](image-20220310162512136.png)

#### 协议的概念

##### 定义: 

**解决计算机网络中各层的数据传输问题**

![image-20220310162646330](image-20220310162646330.png)

##### 例子(类似)

![image-20220310162653415](image-20220310162653415.png)

#### 协议三要素

##### 定义:

- 语法: 数据与控制信息的结构与格式, 解决交换信息的格式问题
- 语义: 需要发出何种控制信息, 单词何种动作以及做出何种响应.解决做什么的问题
- 同步: 事件实现顺序的详细说明. 什么时间什么条件下做某一特定操作的规定,解决先做什么后做什么的问题

##### 例子

![image-20220310163137849](image-20220310163137849.png)

#### 协议的形式

协议必须能够对信息交换过程做出精确的解释

- 文字描述
- 程序代码

#### 分层的原则

![image-20220310163455370](image-20220310163455370.png)

#### 分层优缺点

![image-20220310163508733](image-20220310163508733.png)

#### 各层完成的主要功能![image-20220310163602879](image-20220310163602879.png)

### 五层协议

#### why

![image-20220310164102233](image-20220310164102233.png)

#### what

![image-20220310164153497](image-20220310164153497.png)

#### 体系结构

(各层之间都有各自的协议,那么物理层->数据链路层->网络层->传输服务->运输层->应用层,

还是 各层对各层.,实际上只有一个网,所以..) 去看分层概念->图解

![image-20220310164334982](image-20220310164334982.png)





- 物理层 实现最基础的数据传输 , **数据单元:比特**;**设备: 中继器 集线器,网线,hub**

- 数据链路层: 主机与同一网络下的主机or路由器的帧传输 **传输帧**;**设备: 网卡,交换机**

- 网络层: 主机间的通信服务,**传输用户数据包; 设备: 路由器,防火墙,多层交换机**

- 运输层: 主机进程之间的通信,**传输用户数据报 ;涉及实体:进程,端口**

- 应用层: 应用数据格式 **涉及实体:应用程序**

#### 各传输层工作流程

![image-20220310172428987](image-20220310172428987.png)

#### 协议封装的概念

##### 例子

![image-20220310172521496](image-20220310172521496.png)

##### 图解

![image-20220310172629585](image-20220310172629585.png)

#### 几个概念

##### 实体 协议 服务 和服务访问点

![image-20220310172818023](image-20220310172818023.png)

##### 服务原语

 post,get,request, response

![image-20220310172851905](image-20220310172851905.png)

##### 服务访问点

![image-20220310172935099](image-20220310172935099.png)

##### 服务数据单元(SDU)

![image-20220310173145233](image-20220310173145233.png)

##### 相邻两层之间的关系

![image-20220310173207751](image-20220310173207751.png)

#### 协议的复杂性

![image-20220310173218771](image-20220310173218771.png)

#### 四层协议体系结构

![image-20220310173521029](image-20220310173521029.png)

# 问题

- 交换机是什么,交换机与路由器区别?

  - 交换机负责局域网内,各个主机间的通信(包括自己,通过mac内部寻址)

  - 路由器负责与外界通讯,(WAN接口,向外界提供ip)

    ​							

- 路由器, 分组交换,电路交换,交换在Internet怎么体现

  - 分组交换,电路交换只是一种形式,区别在于什么时候建立数据传输链路,堵塞占据还是..
  - 交换(switching)就是转接,重点在于怎么转接,是分段转接,异步转接,还是什么?
  - 交换在Internet体现就是数据在物理层,数据链路层,网络层(最底层的三层)上,进行各节点(路由器与路由器之间,主机与路由器之间)进行的数据交换

- 设定双方线路究竟是在设定什么?

  - 设定 物理层,数据链路层,网络层的数据传输方式.

